{"version":3,"sources":["app.js"],"names":["formId","form","document","getElementById","toJSONString","obj","elements","i","length","querySelectorAll","name","element","value","stringify","addEventListener","event","preventDefault","json","formReq","XMLHttpRequest","status","swal","title","icon","timer","querySelector","style","display","opacity","setRequestHeader"],"mappings":"aAAA,IAAMA,OAAS,eACTC,KAAOC,SAASC,eAAeH,QAArC,SAAUI,aAAYD,GAGpB,IAAA,IAAIE,EAAM,GADZC,EAASF,EAAaH,iBAAM,2BACnBM,EAAP,EAAAA,EAAAD,EAAAE,SAAAD,EAAA,CACA,IAAID,EAAWL,EAAKQ,GAGdC,EAAOC,EAAQD,KAFhBE,EAALD,EAAoBL,MACdK,IACJN,EAAIK,GAAOC,GAEX,OAAID,KAAMG,UAAAR,GAETJ,MACFA,KAAAa,iBAAA,SAAA,SAAAC,GAKCA,EAAMC,iBAHT,IAAAC,EAAAb,aAAAH,MACSiB,EAAA,IAAAC,eACRlB,EAAKa,KAAAA,OAAiB,eAAU,GAK9BI,EAAMA,OAAU,SAAIC,GACC,MAArBD,EAAaE,SAEbC,KAAA,CACAC,MAAA,sBACAC,KAAA,UAMMC,MAAO,MAJXtB,SAAWuB,cAAY,eAAKC,MAAAC,QAAA,QAC1BN,SAAKI,cAAA,wBAAAC,MAAAE,QAAA,KAAA,MAEHL,EAAMH,SACNI,KAAAA,CAHFF,MAAA,oBAKApB,KAAQ,QACRA,MAASuB,MAQTvB,SAASuB,cAAc,aAAaC,MAAMC,QAAU,QANtDzB,SAAWuB,cAAY,wBAAKC,MAAAE,QAAA,MACrBV,EAALW,iBAAA,eAAA,oBAMA3B,EAAAA,KAASuB","file":"app.min.js","sourcesContent":["const formId = 'telegramForm'\nconst form = document.getElementById(formId)\n//функция для захвата данных из тегов формы и синтеза JSON-обьекта \nfunction toJSONString(form) {\n  var obj = {}\n  var elements = form.querySelectorAll('input, select, textarea')\n  for (var i = 0; i < elements.length; ++i) {\n    var element = elements[i]\n    var name = element.name\n    var value = element.value\n    if (name) {\n      obj[ name ] = value\n    }\n  }\n  return JSON.stringify(obj)\n}\nif (form) {\n  form.addEventListener('submit', event => {\n    event.preventDefault()\n    //получаем данные из формы\n    const json = toJSONString(form)\n    //создаем соединение\n    const formReq = new XMLHttpRequest()\n    formReq.open('POST', '../telegram', true)\n    ///////////////////////////////////\n    /////////////SweetAlert//////////\n    ///////////////////////////////////\n    //обрабатываем ответ сервера\n    formReq.onload = function(oEvent) {\n      if (formReq.status === 200) {\n        swal({\n          title: 'Успешно отправлено!',\n          icon: 'success',\n          timer: 2000\n        })\n        document.querySelector('.sa-success').style.display = 'block'\n        document.querySelector('.sa-button-container').style.opacity = '0'\n      }\n      if (formReq.status !== 200) {\n        swal({\n          title: 'Произошла ошибка!',\n          icon: 'error',\n          timer: 2000\n        })\n        document.querySelector('.sa-error').style.display = 'block'\n        document.querySelector('.sa-button-container').style.opacity = '0'\n      }\n    }\n    ////////////////////////////\n    ////////////////////////////\n    formReq.setRequestHeader('Content-Type', 'application/json')\n    //отправляем\n    formReq.send(json)\n  })\n}"]}