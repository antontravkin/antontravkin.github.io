{"version":3,"sources":["app.js"],"names":["formId","document","getElementById","toJSONString","form","obj","querySelector","alert","elements","i","length","element","value","name","JSON","stringify","addEventListener","event","preventDefault","json","formReq","open","console","log","status","onload","oEvent","swal","icon","style","display","timer","opacity","title","send"],"mappings":"aACA,IAAMA,OAAS,eAATA,KAASC,SAAAC,eAAfF,QAGA,SAASG,aAAaC,GAAtB,IAAAC,EAASF,GACHE,EAAJD,EAAAE,cAAA,mBACAC,MAAIC,GACJD,IAAK,IAACC,EAAAA,EAANC,EAAAD,EAAAE,SAAAD,EAAA,CACA,IAAKE,EAAWF,EAAID,GAEdG,EAAOA,EAAGH,KAGVI,EAAQD,EAAQC,MAChBC,IAAJR,EAAIQ,GAAMD,GAKZ,OAAOE,KAAKC,UAAUV,GACvBD,MAECA,KAAKY,iBAAiB,SAAU,SAAAC,GAD9Bb,EAAMc,iBAEND,IAAMC,EAAAA,aACNd,MACMe,EAAOhB,IAAAA,eAGbiB,EAAQC,KAAK,OAAQ,aAAa,GAIlCC,QAAAC,IAAAH,EAAAI,QAEAJ,EAAQK,OAAS,SAASC,GADNF,MAApBF,EAAYF,SAGRO,KAAK,CAFTP,MAAQK,sBACFL,KAAAA,UACFO,MAAK,MAEHC,SAAMtB,cAFH,eAAAuB,MAAAC,QAAA,QAGHC,SAAOzB,cAAA,wBAAAuB,MAAAG,QAAA,KAET/B,MAAAA,EAASK,QACAA,MAATL,EAASK,SACVqB,KAAA,CAIGM,MAAO,oBAHX1B,KAAMa,QAKFW,MAAO,MAHTJ,SAAKrB,cAAA,aAAAuB,MAAAC,QAAA,QACHG,SAAO3B,cAAA,wBADJuB,MAAAG,QAAA,MAML/B,EAAAA,iBAASK,eAAc,oBAE1Bc,EACDc,KAAAf","file":"app.min.js","sourcesContent":["\nconst formId = 'telegramForm';\nconst form = document.getElementById(formId);\n//функция для захвата данных из тегов формы и синтеза JSON-обьекта \nfunction toJSONString(form) {\n  var obj = {};\n  var elements = form.querySelector('input, textarea');\n  alert(elements)\n  for (var i = 0; i < elements.length; ++i) {\n    \n    var element = elements[i];\n    var name = element.name;\n    \n    var value = element.value;\n    if (name) {\n      obj[ name ] = value;\n    }\n  }\n \n  return JSON.stringify(obj);\n}\nif (form) {\n  form.addEventListener('submit', event => {\n    event.preventDefault();\n    //получаем данные из формы\n    const json = toJSONString(form);\n    //создаем соединение\n    const formReq = new XMLHttpRequest();\n    formReq.open(\"POST\", \"/telegram\", false);\n    ///////////////////////////////////\n    /////////////SweetAlert//////////\n    ///////////////////////////////////\n    //обрабатываем ответ сервера\n    console.log(formReq.status);\n    formReq.onload = function(oEvent) {\n      if (formReq.status === 200) {\n        swal({\n          title: 'Успешно отправлено!',\n          icon: 'success',\n          timer: 2000\n        })\n        document.querySelector('.sa-success').style.display = 'block';\n        document.querySelector('.sa-button-container').style.opacity = '0';\n      }\n      alert(formReq.status);\n      if (formReq.status !== 200) {\n        swal({\n          title: 'Произошла ошибка!',\n          icon: 'error',\n          timer: 2000\n        })\n        document.querySelector('.sa-error').style.display = 'block'\n        document.querySelector('.sa-button-container').style.opacity = '0'\n      }\n    }\n    ////////////////////////////\n    ////////////////////////////\n    formReq.setRequestHeader('Content-Type', 'application/json');\n    //отправляем\n    formReq.send(json)\n  })\n}"]}